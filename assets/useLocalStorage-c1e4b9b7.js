import{r as a}from"./index-29ebecb4.js";function w(t,o){const s=()=>{if(typeof window>"u")return o;try{const e=window.localStorage.getItem(t);return e?JSON.parse(e):o}catch(e){return console.warn(`Error reading localStorage key "${t}":`,e),o}},[c,n]=a.useState(s),d=e=>{try{const r=e instanceof Function?e(c):e;typeof window<"u"&&window.localStorage.setItem(t,JSON.stringify(r)),n(r)}catch(r){console.warn(`Error setting localStorage key "${t}":`,r)}};return a.useEffect(()=>{n(s())},[t]),a.useEffect(()=>{const e=r=>{r.key===t&&r.newValue&&n(JSON.parse(r.newValue))};if(typeof window<"u")return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[t]),[c,d]}export{w as u};
