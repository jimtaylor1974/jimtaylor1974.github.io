import{j as r,w as l,b as d,p as m}from"./index-660d126b.js";import{S as h}from"./Spinner-f4f30a5b.js";import{E as u}from"./ErrorDisplay-52780e50.js";import{C as j}from"./Card-0007d0c0.js";import{T as x}from"./Table-cbaeae2a.js";import{c as f,t as b}from"./strings-3be1ab26.js";import"./Alert-e5aa8ee6.js";const g=({resultSet:t})=>{if(t.length===0)return r.jsx("div",{className:"alert alert-info",children:"No results"});const o=Object.keys(t[0]).map(e=>r.jsx("th",{children:f(b(e).replace(/-/g," "))},e)),n=t.map((e,s)=>r.jsx("tr",{children:Object.keys(e).map(a=>r.jsx("td",{children:String(e[a])},a))},s));return r.jsx(j,{className:"mb-4 shadow-sm",children:r.jsxs(x,{responsive:!0,children:[r.jsx("thead",{children:r.jsx("tr",{children:o})}),r.jsx("tbody",{children:n})]})})},R=t=>l(`/api/report/${t}`,{errorMessage:"Failed to get report"}),v=({handle:t})=>{const{isAuthenticated:o}=d(),n=R("ProcReport"),{data:e,error:s,isLoading:a}=m(["report",t],()=>n(),{enabled:o});if(a)return r.jsx(h,{});if(s)return r.jsx(u,{error:s});if(!e)return null;const i=(e||[]).map((c,p)=>r.jsx(g,{resultSet:c},p));return r.jsxs(r.Fragment,{children:[r.jsx("h1",{className:"h1",children:"Dashboard"}),i]})};export{v as default};
