import{u as f,b as j,e as b,r as y,j as e,L as N,B as S,g as w}from"./index-660d126b.js";import{H as k}from"./Helmet-6a411193.js";import{u as E}from"./index.esm-12fca3ed.js";import{u as v}from"./useLocationInfo-db532df6.js";import{u as F}from"./useMutation-e7c8b84b.js";import{F as H}from"./Form-d6175283.js";import{F as i,L as l}from"./Label-4c846b7c.js";import{A as L}from"./Alert-e5aa8ee6.js";import{D as m}from"./DisplayFormError-c2d4e36b.js";const P=()=>f("/api/store-registration",{errorMessage:"Failed to register store"});function I(){const{authData:t}=j(),d=b(),{currency:c}=v(),{register:o,handleSubmit:u,formState:{errors:a},clearErrors:p}=E({defaultValues:{storeName:`${t.handle}'s store`,handle:t.handle,currency:c,twitterHandle:"",instagramHandle:"",facebookPageName:"",facebookPageUrl:"",storeKeeperName:"",storeEmail:""}}),[s,n]=y.useState(null),h=P(),g=F(h,{onSuccess:r=>{d(`/store-admin/${r.handle}`)},onError:r=>{n(w(r))}}),x=r=>{n(null),p(),g.mutate(r)};return e.jsxs(e.Fragment,{children:[e.jsxs(k,{children:[e.jsx("title",{children:"Vintage and Pre-Owned - Store Registration"}),e.jsx("meta",{property:"og:title",content:"Vintage and Pre-Owned - Store Registration"}),e.jsx("meta",{property:"og:url",content:window.location.href}),e.jsx("meta",{property:"og:type",content:"website"})]}),e.jsx("h1",{className:"text-center",children:"Store registration - Beta program"}),e.jsxs("p",{className:"lead",children:["You are free to create and use a store as part of our Beta program.",e.jsx("br",{}),"As a beta program member we'll be asking you for feedback and suggestions to help improve the platform.",e.jsx("br",{}),"Please use the contact form (found in the top right menu under your username) to ",e.jsx(N,{to:"/contact-us",children:"provide feedback"}),".",e.jsx("br",{}),"When we transition to a paid service you will have the option to continue or close shop."]}),e.jsxs(H,{onSubmit:u(x),children:[e.jsxs(i,{children:[e.jsx(l,{for:"storeName",children:"Store Name"}),e.jsx("input",{className:"form-control",type:"text",id:"storeName",maxLength:50,...o("storeName",{required:"Store Name is required"})}),e.jsx(m,{error:a.storeName,fieldDisplayName:"Store Name"})]}),e.jsxs(i,{children:[e.jsx(l,{for:"handle",children:"Handle"}),e.jsx("input",{className:"form-control",type:"text",id:"handle",maxLength:16,...o("handle",{required:"Handle is required",pattern:{value:/^@[A-Za-z0-9_]{1,15}$/,message:"Invalid handle"}}),readOnly:!0,style:{backgroundColor:"white"}}),e.jsx(m,{error:a.handle,fieldDisplayName:"Handle"})]}),e.jsx("div",{className:"d-flex justify-content-end mt-3",children:e.jsx(S,{type:"submit",color:"primary",children:"Submit"})}),s&&e.jsx(L,{color:"danger mt-3",children:s})]})]})}export{I as default};
